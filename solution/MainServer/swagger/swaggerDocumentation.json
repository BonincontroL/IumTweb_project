{
  "openapi": "3.0.3",
  "info": {
    "title": "IumTweb_project",
    "description": "This API is part of the IUM-TWEB project for the 2023-2024 academic year at the Dipartimento di Informatica, Universit√† di Torino. Designed to enable both fans and pundits to access and analyze a wide range of football data, this API supports functionalities across multiple servers (two Express servers and one Java Spring server). It provides interfaces for querying football competitions, clubs, and player statistics, and integrates with MongoDB and Postgres databases to manage dynamic and static datasets respectively. [ IUM-TWEB Group Accornero, Aiello, Bonincontro ]",
    "version": "1.0.0",
    "contact": {
      "name": "IUM-TWEB Group Accornero, Aiello, Bonincontro"
    }
  },
  "servers": [
    {
      "url": "http://localhost:3000",
      "description": "MainServer - Can handle all API requests."
    },
    {
      "url": "http://localhost:3001",
      "description": "ExpressServer"
    },
    {
      "url": "http://localhost:8081",
      "description": "SpringServer"
    }
  ],
  "paths": {
    "/competitions/getAllCompetitions": {
      "get": {
        "summary": "Retrieve all competitions available in the database",
        "servers": [
          {
            "url": "http://localhost:3000",
            "description": "MainServer"
          },
          {
            "url": "http://localhost:8081",
            "description": "SpringServer"
          }
        ],
        "responses": {
          "200": {
            "description": "A list of all competitions.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Competitions"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Error retrieving competitions"
          }
        }
      }
    },
    "/competitions/getCompetitionsGroupedByCountry": {
      "get": {
        "summary": "Retrieve all competitions grouped by country",
        "servers": [
          {
            "url": "http://localhost:3000",
            "description": "MainServer"
          },
          {
            "url": "http://localhost:8081",
            "description": "SpringServer"
          }
        ],
        "responses": {
          "200": {
            "description": "A list of all competitions grouped by country.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Competitions"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Error retrieving competitions grouped by country"
          }
        }
      }
    },
    "/competitions/getCompetitionsGroupedByCountryAndLikeName": {
      "get": {
        "summary": "Retrieve all competitions grouped by country and filtered by name",
        "servers": [
          {
            "url": "http://localhost:3000",
            "description": "MainServer"
          },
          {
            "url": "http://localhost:8081",
            "description": "SpringServer"
          }
        ],
        "parameters": [
          {
            "name": "name",
            "in": "query",
            "description": "Name of the competition to filter by",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A list of all competitions grouped by country and filtered by name.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Competitions"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Error retrieving competitions grouped by country and filtered by name"
          }
        }
      }
    }
  },
  "components": {

    "schemas": {
      "Competition": {
        "type": "object",
        "properties": {
          "competitionId": {
            "type": "string",
            "description": "Unique identifier for the competition"
          },
          "competitionCode": {
            "type": "string",
            "description": "Code assigned to the competition"
          },
          "name": {
            "type": "string",
            "description": "Name of the competition"
          },
          "subType": {
            "type": "string",
            "description": "Subtype of the competition"
          },
          "type": {
            "type": "string",
            "description": "Type of the competition"
          },
          "countryId": {
            "type": "integer",
            "description": "Identifier for the country associated with the competition"
          },
          "countryName": {
            "type": "string",
            "description": "Name of the country associated with the competition"
          },
          "domesticLeagueCode": {
            "type": "string",
            "description": "Code of the domestic league related to the competition"
          },
          "confederation": {
            "type": "string",
            "description": "Confederation to which the competition belongs"
          },
          "url": {
            "type": "string",
            "description": "URL with more information about the competition"
          }
        },
        "description": "Object representing a competition"
      },
      "Competitions": {
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/Competition"
        },
        "description": "Array of Competition objects, used to represent a list of competitions"
      },
      "Error": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Description of the error encountered"
          },
          "internal_code": {
            "type": "string",
            "description": "Internal code corresponding to the error"
          }
        }
      }
    }
  }
}
